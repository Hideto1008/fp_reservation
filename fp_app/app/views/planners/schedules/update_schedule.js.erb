var button = $("[data-schedule-id='<%= @schedule.id %>']");
if (button.length > 0) {
  button.html("<%= @schedule.is_available ? '&#9711;'.html_safe : '&#10005;'.html_safe %>");
  button.css("color", "<%= @schedule.is_available ? '#111111' : '#111111' %>");
  button.attr("href", "<%= planner_schedule_path(planner_id: @schedule.planner_id, id: @schedule.id, is_available: !@schedule.is_available) %>");
} else {
  var newButton = $("[data-date='<%= @schedule.started_at.strftime('%Y-%m-%d') %>'][data-time='<%= @schedule.started_at.strftime('%H:%M') %>']");
  newButton.html("<%= @schedule.is_available ? '&#9711;'.html_safe : '&#10005;'.html_safe %>");
  newButton.css("color", "<%= @schedule.is_available ? '#111111' : '#111111' %>");
  newButton.attr("data-schedule-id", "<%= @schedule.id %>");
  newButton.attr("href", "<%= planner_schedule_path(planner_id: @planner.id, id: @schedule.id, is_available: !@schedule.is_available) %>");
  newButton.attr("data-method", "patch");
}
